!function(t,s,i,e){"use strict";var a="starRating",n={totalStars:5,useFullStars:!1,emptyColor:"lightgray",hoverColor:"orange",activeColor:"gold",useGradient:!0,readonly:!1,disableAfterRate:!0,starGradient:{start:"#FEF7CD",end:"#FF9511"},strokeWidth:0,strokeColor:"black",initialRating:0,starSize:40},r=function(s,i){var e;this.element=s,this.$el=t(s),this.settings=t.extend({},n,i),e=this.$el.data("rating")||this.settings.initialRating,this._state={rating:(Math.round(2*e)/2).toFixed(1)},this._uid=Math.floor(999*Math.random()),i.starGradient||this.settings.useGradient||(this.settings.starGradient.start=this.settings.starGradient.end=this.settings.activeColor),this._defaults=n,this._name=a,this.init()},o={init:function(){this.renderMarkup(),this.addListeners(),this.initRating()},addListeners:function(){this.settings.readOnly||(this.$stars.on("mouseover",this.hoverRating.bind(this)),this.$stars.on("mouseout",this.restoreState.bind(this)),this.$stars.on("click",this.applyRating.bind(this)))},hoverRating:function(t){this.paintStars(this.getIndex(t),"hovered")},applyRating:function(t){var s=this.getIndex(t),i=s+1;this.paintStars(s,"active"),this.executeCallback(i,this.$el),this._state.rating=i,this.settings.disableAfterRate&&this.$stars.off()},restoreState:function(){var t=this._state.rating||-1;this.paintStars(t-1,"active")},getIndex:function(s){var i=t(s.currentTarget),e=i.width(),a=s.offsetX<e/2&&!this.settings.useFullStars?"left":"right",n=i.index()-("left"===a?.5:0);return n=n<0&&s.offsetX<e/5?-1:n},initRating:function(){this.paintStars(this._state.rating-1,"active")},paintStars:function(s,i){var e,a,n,r;t.each(this.$stars,function(o,h){e=t(h).find('polygon[data-side="left"]'),a=t(h).find('polygon[data-side="right"]'),n=r=o<=s?i:"empty",n=o-s===.5?i:n,e.attr("class","svg-"+n+"-"+this._uid),a.attr("class","svg-"+r+"-"+this._uid)}.bind(this))},renderMarkup:function(){for(var t='<div class="jq-star" style="width:'+this.settings.starSize+"px;  height:"+this.settings.starSize+'px;"><svg version="1.0" class="jq-star-svg" shape-rendering="geometricPrecision" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="305px" height="305px" viewBox="60 -62 309 309" style="enable-background:new 64 -59 305 305; stroke-width:'+this.settings.strokeWidth+'px;" xml:space="preserve"><style type="text/css">.svg-empty-'+this._uid+"{fill:url(#"+this._uid+"_SVGID_1_);}.svg-hovered-"+this._uid+"{fill:url(#"+this._uid+"_SVGID_2_);}.svg-active-"+this._uid+"{fill:url(#"+this._uid+"_SVGID_3_);}</style>"+this.getLinearGradient(this._uid+"_SVGID_1_",this.settings.emptyColor,this.settings.emptyColor)+this.getLinearGradient(this._uid+"_SVGID_2_",this.settings.hoverColor,this.settings.hoverColor)+this.getLinearGradient(this._uid+"_SVGID_3_",this.settings.starGradient.start,this.settings.starGradient.end)+'<polygon data-side="left" class="svg-empty-'+this._uid+'" points="281.1,129.8 364,55.7 255.5,46.8 214,-59 172.5,46.8 64,55.4 146.8,129.7 121.1,241 213.9,181.1 213.9,181 306.5,241 " style="stroke: '+this.settings.strokeColor+'"/><polygon data-side="right" class="svg-empty-'+this._uid+'" points="364,55.7 255.5,46.8 214,-59 213.9,181 306.5,241 281.1,129.8 " style="stroke-dasharray: 230 232 210 0; stroke: '+this.settings.strokeColor+'"/></svg></div>',s="",i=0;i<this.settings.totalStars;i++)s+=t;this.$el.append(s),this.$stars=this.$el.find(".jq-star")},getLinearGradient:function(t,s,i){return'<linearGradient id="'+t+'" gradientUnits="userSpaceOnUse" x1="121.1501" y1="-70.35" x2="121.15" y2="125.0045"><stop  offset="0" style="stop-color:'+s+'"/><stop  offset="1" style="stop-color:'+i+'"/> </linearGradient>'},executeCallback:function(s,i){var e=this.settings.callback;t.isFunction(e)&&e(s,i)}},h={unload:function(){var s="plugin_"+a,i=t(this),e=i.data(s).$star;i.removeData(s),e.off()}};t.extend(r.prototype,o),t.fn[a]=function(s){return!t.isPlainObject(s)&&h.hasOwnProperty(s)?void h[s].apply(this):this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new r(this,s))})}}(jQuery,window,document);